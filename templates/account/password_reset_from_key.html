{% extends "account/base_entrance.html" %}
{% load static i18n allauth account %}

{% block head_title %}{% translate "Change Password" %}{% endblock head_title %}

{% block left_content %}
<div class="auth-left">
    <img src="{% static 'auth/images/password_reset.svg' %}" alt="Set New Password" class="auth-illustration">
    <h1>Create a New Password ðŸ”’</h1>
    <p>Your new password must be different from previous ones. Make it strong and memorable!</p>
</div>
{% endblock left_content %}

{% block right_content %}
<div class="auth-right">
    {% if token_fail %}
        <h2 class="form-title">Invalid Link</h2>
        <p class="auth-error">The password reset link was invalid, possibly because it has already been used or has expired.</p>
        <p class="mt-2 text-center">
            <a href="{% url 'account_reset_password' %}" class="btn-outline">Request a New Link</a>
        </p>
    {% else %}
        <h2 class="form-title">Set Your New Password</h2>
        <form method="post" action="{{ action_url }}" class="auth-form">
            {% csrf_token %}
            {{ redirect_field }}

            {% for field in form %}
            <div class="auth-form-group">
                {{ field.label_tag }}
                {{ field }}
                {% if field.errors %}
                    <div class="auth-error">{{ field.errors|striptags }}</div>
                {% endif %}
            </div>
            {% endfor %}

            <button type="submit" class="btn-primary btn-full">
                {% trans "Change Password" %}
            </button>
        </form>
    {% endif %}
</div>
{% endblock right_content %}